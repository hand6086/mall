<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hand.base.workbench.dao.mybatis.mapper.SmsLotMapper">
	<resultMap type="com.hand.base.workbench.model.SmsSend" id="smsSend"></resultMap>
	
	<sql id="queryAllSql">
	SELECT
	T.ROW_ID as id,
	date_format(T.CREATED,'%Y-%m-%d %H:%i:%S') as created,
	T.CREATED_BY as createdBy,
	date_format(T.LAST_UPD, '%Y-%m-%d %H:%i:%S') as lastUpdated,
	T.LAST_UPD_BY as lastUpdatedBy,
	t.T_ATTR_01 backFlag,
	t.DATE_CREATED dateCreated,
	t.MESSAGE_SID messageSid,
	t.T_ATTR_04 sendStatus,
	t.T_ATTR_05 sendTime,
	t.STATUS_CODE statusCode,
	t.STATUS_MSG statusMsg,
	t.HEAD_ID headId
	</sql>

	<sql id="fromSql">
	from CX_O_SMS_SE_LOT t
  	</sql>
  	
  	<sql id="whereAllSql">
  		where 1 = 1
  	</sql>
  	
  	<select id="queryByExamplePage" parameterType="com.hand.base.workbench.model.SmsSend" resultMap="smsSend">
  		<include refid="queryAllSql"/>
		<include refid="fromSql"/>
		<include refid="whereAllSql"/>
		order by t.CREATED desc
  	</select>
  	
  	 	
	<select id="queryById" resultType="com.hand.base.workbench.model.SmsSend"
		parameterType="com.hand.base.workbench.model.SmsSend">		
		<include refid="queryAllSql"/>
		<include refid="fromSql"/>
		where t.ROW_ID=#{id}
	</select>
  	
  	<insert id="insert" parameterType="com.hand.base.workbench.model.SmsSend">
		insert into CX_O_SMS_SE_LOT
		  (ROW_ID, T_ATTR_01 , DATE_CREATED, MESSAGE_SID , T_ATTR_04, T_ATTR_05
		  , STATUS_CODE , STATUS_MSG,HEAD_ID,t_attr_02,t_attr_03,t_attr_06,t_attr_07,t_attr_08,t_attr_09,t_attr_10,t_attr_11
		  ,t_attr_12,t_attr_13,t_attr_14,t_attr_15,t_attr_16)
		values
		  (#{id},#{backFlag},#{dateCreated},#{messageSid},#{sendStatus},lnk_blank_str_to_null(#{sendTime,jdbcType=TIMESTAMP})
		  ,#{statusCode},#{statusMsg},#{headId},'','','','','','','','',''
		  ,0,0,str_to_date('0000-00-00 00:00:00','%Y-%m-%d %H:%i:%s'),str_to_date('0000-00-00 00:00:00','%Y-%m-%d %H:%i:%s'))
	</insert>
  
	<update id="update" parameterType="com.hand.base.workbench.model.SmsSend">
		update CX_O_SMS_SE_LOT t
		   set t.T_ATTR_01 = #{backFlag}, t.DATE_CREATED = #{dateCreated},t.MESSAGE_SID = #{messageSid}
		   , t.T_ATTR_04 = #{sendStatus},t.T_ATTR_05 = #{sendTime},t.STATUS_CODE = #{statusCode}
		   , t.STATUS_MSG = #{statusMsg}
		 where t.row_id = #{id}
	</update>
	
	<delete id="deleteById" parameterType="com.hand.base.workbench.model.SmsSend">
		DELETE FROM CX_O_SMS_SE_LOT WHERE ROW_ID = #{id}
	</delete>

	
</mapper>