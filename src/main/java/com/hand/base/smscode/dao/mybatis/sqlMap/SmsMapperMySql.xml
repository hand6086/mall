<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hand.base.smscode.dao.mybatis.mapper.SmsMapper" >
  <resultMap id="BaseResultMap" type="com.hand.base.smscode.model.SmsLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ROW_ID" property="rowId" jdbcType="VARCHAR" />
    <result column="CREATED" property="created" jdbcType="TIMESTAMP" />
    <result column="CREATED_BY" property="createdBy" jdbcType="VARCHAR" />
    <result column="LAST_UPD" property="lastUpd" jdbcType="TIMESTAMP" />
    <result column="LAST_UPD_BY" property="lastUpdBy" jdbcType="VARCHAR" />
    <result column="MODIFICATION_NUM" property="modificationNum" jdbcType="DECIMAL" />
    <result column="CONFLICT_ID" property="conflictId" jdbcType="VARCHAR" />
    <result column="DB_LAST_UPD" property="dbLastUpd" jdbcType="TIMESTAMP" />
    <result column="EXPIRE_TIME" property="expireTime" jdbcType="TIMESTAMP" />
    <result column="T_ATTR_09" property="tAttr09" jdbcType="DECIMAL" />
    <result column="T_ATTR_10" property="tAttr10" jdbcType="DECIMAL" />
    <result column="T_ATTR_11" property="tAttr11" jdbcType="DECIMAL" />
    <result column="T_ATTR_12" property="tAttr12" jdbcType="DECIMAL" />
    <result column="T_ATTR_13" property="tAttr13" jdbcType="TIMESTAMP" />
    <result column="T_ATTR_14" property="tAttr14" jdbcType="TIMESTAMP" />
    <result column="T_ATTR_15" property="tAttr15" jdbcType="TIMESTAMP" />
    <result column="T_ATTR_16" property="tAttr16" jdbcType="TIMESTAMP" />
    <result column="CONTEXT" property="context" jdbcType="VARCHAR" />
    <result column="DB_LAST_UPD_SRC" property="dbLastUpdSrc" jdbcType="VARCHAR" />
    <result column="TARGET_PHONE" property="targetPhone" jdbcType="VARCHAR" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="T_ATTR_01" property="tAttr01" jdbcType="VARCHAR" />
    <result column="T_ATTR_02" property="tAttr02" jdbcType="VARCHAR" />
    <result column="T_ATTR_03" property="tAttr03" jdbcType="VARCHAR" />
    <result column="T_ATTR_04" property="tAttr04" jdbcType="VARCHAR" />
    <result column="T_ATTR_05" property="tAttr05" jdbcType="VARCHAR" />
    <result column="T_ATTR_06" property="tAttr06" jdbcType="VARCHAR" />
    <result column="T_ATTR_07" property="tAttr07" jdbcType="VARCHAR" />
    <result column="T_ATTR_08" property="tAttr08" jdbcType="VARCHAR" />
  </resultMap>
  <insert id="insert" parameterType="com.hand.base.smscode.model.SmsLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into CX_O_SMS_LOG (ROW_ID, CREATED, CREATED_BY, 
      LAST_UPD, LAST_UPD_BY, MODIFICATION_NUM, 
      CONFLICT_ID, DB_LAST_UPD, EXPIRE_TIME, 
      T_ATTR_09, T_ATTR_10, T_ATTR_11, 
      T_ATTR_12, T_ATTR_13, T_ATTR_14, 
      T_ATTR_15, T_ATTR_16, CONTEXT, 
      DB_LAST_UPD_SRC, TARGET_PHONE, TYPE, 
      T_ATTR_01, T_ATTR_02, T_ATTR_03, 
      T_ATTR_04, T_ATTR_05, T_ATTR_06, 
      T_ATTR_07, T_ATTR_08)
    values (s_sequence_pkg_get_next_rowid(), #{created,jdbcType=TIMESTAMP}, #{createdBy,jdbcType=VARCHAR}, 
      #{lastUpd,jdbcType=TIMESTAMP}, #{lastUpdBy,jdbcType=VARCHAR}, #{modificationNum,jdbcType=DECIMAL}, 
      #{conflictId,jdbcType=VARCHAR}, #{dbLastUpd,jdbcType=TIMESTAMP}, #{expireTime,jdbcType=TIMESTAMP}, 
      #{tAttr09,jdbcType=DECIMAL}, #{tAttr10,jdbcType=DECIMAL}, #{tAttr11,jdbcType=DECIMAL}, 
      #{tAttr12,jdbcType=DECIMAL}, #{tAttr13,jdbcType=TIMESTAMP}, #{tAttr14,jdbcType=TIMESTAMP}, 
      #{tAttr15,jdbcType=TIMESTAMP}, #{tAttr16,jdbcType=TIMESTAMP}, #{context,jdbcType=VARCHAR}, 
      #{dbLastUpdSrc,jdbcType=VARCHAR}, #{targetPhone,jdbcType=VARCHAR}, #{type,jdbcType=VARCHAR}, 
      #{tAttr01,jdbcType=VARCHAR}, #{tAttr02,jdbcType=VARCHAR}, #{tAttr03,jdbcType=VARCHAR}, 
      #{tAttr04,jdbcType=VARCHAR}, #{tAttr05,jdbcType=VARCHAR}, #{tAttr06,jdbcType=VARCHAR}, 
      #{tAttr07,jdbcType=VARCHAR}, #{tAttr08,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.hand.base.smscode.model.SmsLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into CX_O_SMS_LOG
    <trim prefix="(" suffix=")" suffixOverrides="," >
        ROW_ID,
      <if test="created != null" >
        CREATED,
      </if>
      <if test="createdBy != null" >
        CREATED_BY,
      </if>
      <if test="lastUpd != null" >
        LAST_UPD,
      </if>
      <if test="lastUpdBy != null" >
        LAST_UPD_BY,
      </if>
      <if test="modificationNum != null" >
        MODIFICATION_NUM,
      </if>
      <if test="conflictId != null" >
        CONFLICT_ID,
      </if>
      <if test="dbLastUpd != null" >
        DB_LAST_UPD,
      </if>
      <if test="expireTime != null" >
        EXPIRE_TIME,
      </if>
      <if test="tAttr09 != null" >
        T_ATTR_09,
      </if>
      <if test="tAttr10 != null" >
        T_ATTR_10,
      </if>
      <if test="tAttr11 != null" >
        T_ATTR_11,
      </if>
      <if test="tAttr12 != null" >
        T_ATTR_12,
      </if>
      <if test="tAttr13 != null" >
        T_ATTR_13,
      </if>
      <if test="tAttr14 != null" >
        T_ATTR_14,
      </if>
      <if test="tAttr15 != null" >
        T_ATTR_15,
      </if>
      <if test="tAttr16 != null" >
        T_ATTR_16,
      </if>
      <if test="context != null" >
        CONTEXT,
      </if>
      <if test="dbLastUpdSrc != null" >
        DB_LAST_UPD_SRC,
      </if>
      <if test="targetPhone != null" >
        TARGET_PHONE,
      </if>
      <if test="type != null" >
        TYPE,
      </if>
      <if test="tAttr01 != null" >
        T_ATTR_01,
      </if>
      <if test="tAttr02 != null" >
        T_ATTR_02,
      </if>
      <if test="tAttr03 != null" >
        T_ATTR_03,
      </if>
      <if test="tAttr04 != null" >
        T_ATTR_04,
      </if>
      <if test="tAttr05 != null" >
        T_ATTR_05,
      </if>
      <if test="tAttr06 != null" >
        T_ATTR_06,
      </if>
      <if test="tAttr07 != null" >
        T_ATTR_07,
      </if>
      <if test="tAttr08 != null" >
        T_ATTR_08,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
       s_sequence_pkg_get_next_rowid(),

      <if test="created != null" >
        #{created,jdbcType=TIMESTAMP},
      </if>
      <if test="createdBy != null" >
        #{createdBy,jdbcType=VARCHAR},
      </if>
      <if test="lastUpd != null" >
        #{lastUpd,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdBy != null" >
        #{lastUpdBy,jdbcType=VARCHAR},
      </if>
      <if test="modificationNum != null" >
        #{modificationNum,jdbcType=DECIMAL},
      </if>
      <if test="conflictId != null" >
        #{conflictId,jdbcType=VARCHAR},
      </if>
      <if test="dbLastUpd != null" >
        #{dbLastUpd,jdbcType=TIMESTAMP},
      </if>
      <if test="expireTime != null" >
        #{expireTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr09 != null" >
        #{tAttr09,jdbcType=DECIMAL},
      </if>
      <if test="tAttr10 != null" >
        #{tAttr10,jdbcType=DECIMAL},
      </if>
      <if test="tAttr11 != null" >
        #{tAttr11,jdbcType=DECIMAL},
      </if>
      <if test="tAttr12 != null" >
        #{tAttr12,jdbcType=DECIMAL},
      </if>
      <if test="tAttr13 != null" >
        #{tAttr13,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr14 != null" >
        #{tAttr14,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr15 != null" >
        #{tAttr15,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr16 != null" >
        #{tAttr16,jdbcType=TIMESTAMP},
      </if>
      <if test="context != null" >
        #{context,jdbcType=VARCHAR},
      </if>
      <if test="dbLastUpdSrc != null" >
        #{dbLastUpdSrc,jdbcType=VARCHAR},
      </if>
      <if test="targetPhone != null" >
        #{targetPhone,jdbcType=VARCHAR},
      </if>
      <if test="type != null" >
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="tAttr01 != null" >
        #{tAttr01,jdbcType=VARCHAR},
      </if>
      <if test="tAttr02 != null" >
        #{tAttr02,jdbcType=VARCHAR},
      </if>
      <if test="tAttr03 != null" >
        #{tAttr03,jdbcType=VARCHAR},
      </if>
      <if test="tAttr04 != null" >
        #{tAttr04,jdbcType=VARCHAR},
      </if>
      <if test="tAttr05 != null" >
        #{tAttr05,jdbcType=VARCHAR},
      </if>
      <if test="tAttr06 != null" >
        #{tAttr06,jdbcType=VARCHAR},
      </if>
      <if test="tAttr07 != null" >
        #{tAttr07,jdbcType=VARCHAR},
      </if>
      <if test="tAttr08 != null" >
        #{tAttr08,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="select" parameterType="map" resultMap="BaseResultMap">
  		select * from CX_O_SMS_LOG where TARGET_PHONE=#{targetPhone} and type = #{type} order by LAST_UPD DESC
  </select>
  <select id="selectCode" parameterType="com.hand.base.smscode.model.SmsLog" resultMap="BaseResultMap">
  	select * from CX_O_SMS_LOG where TARGET_PHONE=#{targetPhone}
  </select>
  <update id="updateCode" parameterType="com.hand.base.smscode.model.SmsLog">
  	update CX_O_SMS_LOG set MODIFICATION_NUM=#{modificationNum},CONTEXT=#{context},EXPIRE_TIME=#{expireTime},
  	LAST_UPD=#{lastUpd},LAST_UPD_BY=#{lastUpdBy} where TARGET_PHONE=#{targetPhone}
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.hand.base.smscode.model.SmsLog">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update CX_O_SMS_LOG
    <set>
      <if test="created != null" >
       CREATED = #{created,jdbcType=TIMESTAMP},
      </if>
      <if test="createdBy != null" >
        CREATED_BY = #{createdBy,jdbcType=VARCHAR},
      </if>
      <if test="lastUpd != null" >
        LAST_UPD = #{lastUpd,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdBy != null" >
        LAST_UPD_BY = #{lastUpdBy,jdbcType=VARCHAR},
      </if>
      <if test="modificationNum != null" >
        MODIFICATION_NUM = #{modificationNum,jdbcType=DECIMAL},
      </if>
      <if test="conflictId != null" >
        CONFLICT_ID = #{conflictId,jdbcType=VARCHAR},
      </if>
      <if test="dbLastUpd != null" >
         DB_LAST_UPD = #{dbLastUpd,jdbcType=TIMESTAMP},
      </if>
      <if test="expireTime != null" >
        EXPIRE_TIME = #{expireTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr09 != null" >
         T_ATTR_09 = #{tAttr09,jdbcType=DECIMAL},
      </if>
      <if test="tAttr10 != null" >
        T_ATTR_10 = #{tAttr10,jdbcType=DECIMAL},
      </if>
      <if test="tAttr11 != null" >
        T_ATTR_11 = #{tAttr11,jdbcType=DECIMAL},
      </if>
      <if test="tAttr12 != null" >
        T_ATTR_12 = #{tAttr12,jdbcType=DECIMAL},
      </if>
      <if test="tAttr13 != null" >
        T_ATTR_13 = #{tAttr13,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr14 != null" >
        T_ATTR_14 = #{tAttr14,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr15 != null" >
        T_ATTR_15 = #{tAttr15,jdbcType=TIMESTAMP},
      </if>
      <if test="tAttr16 != null" >
        T_ATTR_16 = #{tAttr16,jdbcType=TIMESTAMP},
      </if>
      <if test="context != null" >
        CONTEXT = #{context,jdbcType=VARCHAR},
      </if>
      <if test="dbLastUpdSrc != null" >
        
      DB_LAST_UPD_SRC = #{dbLastUpdSrc,jdbcType=VARCHAR},
      </if>
      <if test="targetPhone != null" >
       TARGET_PHONE = #{targetPhone,jdbcType=VARCHAR},
      </if>
      <if test="type != null" >
        TYPE = #{type,jdbcType=VARCHAR},
      </if>
      <if test="tAttr01 != null" >
        T_ATTR_01 = #{tAttr01,jdbcType=VARCHAR},
      </if>
      <if test="tAttr02 != null" >
        T_ATTR_02 = #{tAttr02,jdbcType=VARCHAR},
      </if>
      <if test="tAttr03 != null" >
        T_ATTR_03 = #{tAttr03,jdbcType=VARCHAR},
      </if>
      <if test="tAttr04 != null" >
        T_ATTR_04 = #{tAttr04,jdbcType=VARCHAR},
      </if>
      <if test="tAttr05 != null" >
        T_ATTR_05 = #{tAttr05,jdbcType=VARCHAR},
      </if>
      <if test="tAttr06 != null" >
        T_ATTR_06 = #{tAttr06,jdbcType=VARCHAR},
      </if>
      <if test="tAttr07 != null" >
        T_ATTR_07 = #{tAttr07,jdbcType=VARCHAR},
      </if>
      <if test="tAttr08 != null" >
        T_ATTR_08 = #{tAttr08,jdbcType=VARCHAR},
      </if>
    </set>
    where row_id = #{rowId,jdbcType=VARCHAR}
  </update>
  <delete id="deleteByPrimaryKey" parameterType="String">
      delete from CX_O_SMS_LOG where row_id = #{rowId,jdbcType=VARCHAR}
  </delete>
</mapper>